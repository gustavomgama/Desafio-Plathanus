<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <nav class="flex mb-8" aria-label="Breadcrumb">
    <ol class="inline-flex items-center space-x-1 md:space-x-3">
      <li class="inline-flex items-center">
        <%= link_to properties_path, class: "inline-flex items-center text-sm font-medium text-brand-secondary hover:text-brand-primary transition-colors" do %>
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
          </svg>
          Properties
        <% end %>
      </li>
      <li>
        <div class="flex items-center">
          <svg class="w-6 h-6 text-gray-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
          </svg>
          <span class="ml-1 text-sm font-medium md:ml-2 text-brand-dark"><%= @property.name %></span>
        </div>
      </li>
    </ol>
  </nav>

  <div class="bg-white overflow-hidden mb-12 rounded-3xl border border-gray-200 shadow-elegant">
    <div class="relative h-96 overflow-hidden">
      <% if @property.cover_photo %>
        <div class="absolute inset-0 bg-gradient-primary flex items-center justify-center">
          <div class="text-center text-white">
            <div class="text-8xl mb-6">üè†</div>
            <div class="badge bg-brand-accent bg-opacity-20 text-brand-accent border-brand-accent mb-4">
              ‚ú® Featured Cover Photo
            </div>
            <h2 class="text-2xl font-bold mb-2">Position <%= @property.cover_photo.position %></h2>
            <p class="text-lg opacity-90">
              <%= @property.cover_photo.position %> of <%= @property.photos.count %> photos
            </p>
            <% if @property.cover_photo.filename %>
              <p class="text-sm opacity-75 mt-2">
                <%= @property.cover_photo.filename %>
              </p>
            <% end %>
          </div>
        </div>
      <% else %>
        <div class="absolute inset-0 bg-brand-light flex items-center justify-center">
          <div class="text-center text-brand-secondary">
            <div class="text-8xl mb-6">üì∑</div>
            <h3 class="text-2xl font-bold mb-4 text-brand-dark">No Cover Photo</h3>
            <p class="text-lg">This property needs at least 3 photos to generate a cover image</p>
          </div>
        </div>
      <% end %>

      <% if @property.cover_photo %>
        <div class="absolute top-6 left-6 badge-success">
          ‚ú® Cover Photo
        </div>
      <% end %>

      <div class="absolute top-6 right-6 px-4 py-2 rounded-full text-sm font-semibold text-white bg-black bg-opacity-70">
        <%= pluralize(@property.photos.count, 'photo') %>
      </div>

      <div class="absolute bottom-0 left-8 w-16 h-1 bg-brand-accent"></div>
    </div>

    <div class="p-8">
      <div class="flex items-start justify-between">
        <div class="flex-1">
          <h1 class="text-4xl font-bold mb-6" style="color: #292d32; font-family: 'Poppins', sans-serif;"><%= @property.name %></h1>

          <div class="flex items-center gap-8 mb-8">
            <div class="flex items-center gap-3" style="color: #909090; font-family: 'Inter', sans-serif;">
              <div class="p-2 rounded-full" style="background-color: #f8f9fe;">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
                </svg>
              </div>
              <span class="font-semibold"><%= @property.photos.count %> photos</span>
            </div>

            <div class="flex items-center gap-3" style="color: #909090; font-family: 'Inter', sans-serif;">
              <div class="p-2 rounded-full" style="background-color: #f8f9fe;">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                </svg>
              </div>
              <span class="font-semibold"><%= @property.created_at.strftime("%B %d, %Y") %></span>
            </div>

            <% if @property.has_cover_photo? %>
              <div class="flex items-center gap-3" style="color: #dbb95a;">
                <div class="p-2 rounded-full" style="background-color: #fffaed;">
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <span class="font-semibold" style="font-family: 'Inter', sans-serif;">Premium Featured</span>
              </div>
            <% end %>
          </div>

          <div class="max-w-2xl">
            <p class="text-lg leading-relaxed" style="color: #555; font-family: 'Inter', sans-serif;">
              This premium furnished property showcases modern design and exceptional comfort. Every detail has been carefully curated to provide an unparalleled living experience.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <% if @property.photos.any? %>
    <div class="mb-12">
      <div class="mb-8">
        <h2 class="text-3xl font-bold mb-4" style="color: #292d32; font-family: 'Poppins', sans-serif;">Photo Gallery</h2>
        <div class="w-16 h-1" style="background-color: #dbb95a;"></div>
      </div>

      <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
        <% @property.photos.each do |photo| %>
          <div class="relative bg-white overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-1" style="border-radius: 12px; border: 1px solid #e5e7eb;">
            <!-- Photo Preview -->
            <div class="relative h-48 overflow-hidden">
              <div class="absolute inset-0 flex items-center justify-center" style="background: linear-gradient(135deg, #f8f9fe 0%, #e5e7eb 50%, #dbb95a 100%);">
                <div class="text-center text-white">
                  <div class="text-4xl mb-2">üì∏</div>
                  <div class="px-3 py-1 rounded-full text-xs font-semibold" style="background-color: rgba(255, 255, 255, 0.2); font-family: 'Inter', sans-serif;">
                    Position <%= photo.position %>
                  </div>
                </div>
              </div>
            </div>

            <div class="p-4">
              <div class="flex items-center justify-between mb-3">
                <span class="text-sm font-semibold" style="color: #292d32; font-family: 'Inter', sans-serif;">
                  Photo <%= photo.position %>
                </span>
                <% if photo.cover_photo? %>
                  <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold text-white" style="background-color: #dbb95a; font-family: 'Inter', sans-serif;">
                    ‚ú® Cover
                  </span>
                <% end %>
              </div>

              <div class="space-y-1">
                <p class="text-xs font-medium truncate" style="color: #555; font-family: 'Inter', sans-serif;">
                  <%= photo.filename %>
                </p>
                <div class="flex items-center gap-2 text-xs" style="color: #909090; font-family: 'Inter', sans-serif;">
                  <span><%= number_to_human_size(photo.file_size) %></span>
                  <span>‚Ä¢</span>
                  <span><%= photo.content_type %></span>
                </div>
              </div>
            </div>

            <% if photo.cover_photo? %>
              <div class="absolute top-0 left-0 w-full h-1" style="background-color: #dbb95a;"></div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>
  <% else %>
    <div class="text-center py-16 mb-12">
      <div class="text-8xl mb-6">üì∑</div>
      <h3 class="text-2xl font-bold mb-4" style="color: #292d32; font-family: 'Poppins', sans-serif;">
        No Photos Yet
      </h3>
      <p class="text-lg" style="color: #909090; font-family: 'Inter', sans-serif;">
        This property hasn't been photographed yet.
      </p>
    </div>
  <% end %>

  <div class="pt-8" style="border-top: 1px solid #e5e7eb;">
    <%= link_to properties_path,
        class: "group inline-flex items-center px-6 py-3 font-semibold transition-all duration-200 hover:opacity-90 hover:shadow-lg hover:-translate-y-0.5",
        style: "background-color: #292d32; color: white; border-radius: 8px; font-family: 'Inter', sans-serif;" do %>
      <svg class="mr-2 -ml-1 w-4 h-4 transition-transform group-hover:-translate-x-1" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
      </svg>
      <span>Back to Properties</span>
    <% end %>
  </div>
</div>
